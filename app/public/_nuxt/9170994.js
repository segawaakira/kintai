(window.webpackJsonp=window.webpackJsonp||[]).push([[15,6],{522:function(e,t,n){var content=n(526);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(20).default)("854a8566",content,!0,{sourceMap:!1})},525:function(e,t,n){"use strict";n(522)},526:function(e,t,n){var r=n(19)(!1);r.push([e.i,".calendar{overflow:hidden}.timeline{width:100%;height:100%;position:relative;display:block;height:20px}.timeline-item{position:absolute;top:0;z-index:1;background:#ccf;display:block;height:20px}",""]),e.exports=r},534:function(e,t,n){"use strict";n.r(t);n(14),n(10),n(13),n(16),n(17);var r=n(37),o=n(4),l=(n(100),n(31),n(12),n(27),n(317),n(25),n(47),n(52),n(531),n(245),n(40)),c=n(133);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f=n(532),h=Object(l.a)({setup:function(e,t){var n=Object(l.f)(),o=Object(l.d)(null),d=Object(l.d)((new Date).getFullYear()),h=Object(l.d)((new Date).getMonth()+1),m=Object(l.d)([]),D=Object(l.d)(0),C=c.a.firestore(),y=Object(l.d)([]),_=function(e,t){return new Date(e,t,0).getDate()},w=Object(l.d)(_(d.value,h.value)),k=new Date,O=new Date;O.setHours(k.getHours()+5);var j=Object(l.d)([]),T=864e5,F=function(){C.collection("users/".concat(o.value.uid,"/projects/").concat(n.state.project.id,"/items")).onSnapshot((function(e){y.value=[],e.forEach((function(e){y.value.push(v(v({},e.data()),{},{id:e.id}))})),function(e){j.value=[],e.forEach((function(e){var t=new Date(1e3*e.start.seconds),n=new Date(1e3*e.end.seconds);if(t.getFullYear()===d.value&&t.getMonth()+1===h.value||n.getFullYear()===d.value&&n.getMonth()+1===h.value){var r=n.getTime()-t.getTime(),o=n.getTime()-t.getTime();t.getDate()!==n.getDate()&&(r=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1,0,0,0).getTime()-t.getTime(),o=n.getTime()-new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0).getTime()),j.value.push({startDateTime:new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0).getTime(),startDate:t.getDate(),startTime:t.getTime(),endDateTime:new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0).getTime(),endDate:n.getDate(),endTime:n.getTime(),startWorkTime:r,endWorkTime:o,id:e.id})}}))}(y.value),m.value=[];var n=document.getElementsByClassName("timeline");t.root.$nextTick((function(){for(var i=0;i<n.length;i++){for(var e=n[i].getElementsByClassName("js-work-hour"),t=0,r=0;r<e.length;r++)t+=Number(e[r].innerHTML);m.value.push(t)}})),D.value=0,t.root.$nextTick((function(){for(var e=document.getElementsByClassName("js-work-hour"),t=0,n=0;n<e.length;n++)t+=Number(e[n].innerHTML);D.value+=t}))}))},M={top:{style:"thin",color:{argb:"FFCCCCCC"}},left:{style:"thin",color:{argb:"FFCCCCCC"}},bottom:{style:"thin",color:{argb:"FFCCCCCC"}},right:{style:"thin",color:{argb:"FFCCCCCC"}}},x={type:"pattern",pattern:"solid",fgColor:{argb:"FFDDDDDD"}},W={bold:!0},E={type:"pattern",pattern:"solid",fgColor:{argb:"FFF5F5F5"}},P={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFFFF"}},Y=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o,l,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new f.Workbook).addWorksheet("My Sheet"),(n=t.getWorksheet("My Sheet")).columns=[{header:"ID",key:"id"},{header:"氏名",key:"name"},{header:"価格",key:"price"}],n.eachRow((function(e,t){e.eachCell((function(e,n){1===t?(e.fill=x,e.font=W):e.fill=t%2==0?E:P,e.border=M})),e.commit()})),n.addRow({id:1001,name:"ハンバーガー",price:170}),n.addRow({id:1002,name:"チーズバーガー",price:200}),n.addRow({id:1003,name:"照り焼きチキンバーガー",price:260}),e.next=10,t.xlsx.writeBuffer();case 10:r=e.sent,o=new Blob([r],{type:"application/octet-binary"}),l=window.URL.createObjectURL(o),(a=document.createElement("a")).href=l,a.download="price_list.xlsx",a.click(),a.remove();case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.c)((function(){c.a.auth().onAuthStateChanged((function(data){data?(o.value=c.a.auth().currentUser,F()):o.value={}}))})),{currentYear:d,currentMonth:h,lastDay:w,nextMonth:function(){12!==h.value?h.value+=1:(h.value=1,d.value+=1),w.value=_(d.value,h.value),F()},prevMonth:function(){1!==h.value?h.value-=1:(h.value=12,d.value-=1),w.value=_(d.value,h.value),F()},start:k,end:O,currentMonthData:j,calcPositionWidth:function(e,t){var n=(t-e)/T*100;return"left: ".concat(e/T*100,"%; width: ").concat(n,"%;")},items:y,getDayOfWeek:function(e,t,n){return["日","月","火","水","木","金","土"][new Date(e,t-1,n).getDay()]},onClickDetail:function(e){location.href="/detail?id="+e},totalWorkedHourOfDay:m,totalWorkedHourOfMonth:D,onCreateExcel:Y}}}),m=h,D=(n(525),n(116)),C=n(156),y=n.n(C),_=n(314),w=n(550),k=n(222),O=n(151),j=n(90),component=Object(D.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-flex",[n("v-btn",{attrs:{type:"button"},on:{click:e.prevMonth}},[e._v("\n      前\n    ")]),e._v(" "),n("p",[e._v(e._s(e.currentYear)+"年"+e._s(e.currentMonth)+"月")]),e._v(" "),n("v-btn",{attrs:{type:"button"},on:{click:e.nextMonth}},[e._v("\n      次\n    ")])],1),e._v(" "),n("pre",[e._v(e._s(e.currentMonthData))]),e._v(" "),n("pre",[e._v(e._s(e.items))]),e._v(" "),n("v-list",{staticClass:"calendar",attrs:{"three-line":""}},[n("v-list-item",[n("v-list-item-content",{staticClass:"d-flex flex-column"},[e._v("\n        稼働時間\n      ")])],1),e._v(" "),e._l(e.lastDay,(function(t,r){return[n("v-list-item",{key:r,staticClass:"timeline"},[n("div",[e._v(e._s(r+1)+" "+e._s(e.getDayOfWeek(e.currentYear,e.currentMonth,r+1)))]),e._v(" "),e._l(e.currentMonthData,(function(data,t){return n("div",{key:t},[data.startDate===r+1?n("div",{staticClass:"timeline-item",style:e.calcPositionWidth(data.startTime-data.startDateTime,data.endTime-data.startDateTime),on:{click:function(t){return e.onClickDetail(data.id)}}}):data.startDate===r&&data.endDate===r+1?n("div",{staticClass:"timeline-item",style:e.calcPositionWidth(0,data.endTime-data.endDateTime),attrs:{"data-end-time":data.endTime,"data-end-date-time":data.endDateTime},on:{click:function(t){return e.onClickDetail(data.id)}}}):e._e(),e._v(" "),n("div",{staticStyle:{display:"none"}},[data.startDate===r+1?n("div",[n("div",{staticClass:"js-work-hour"},[e._v(e._s(Math.round(data.startWorkTime/36e5*10)/10))])]):data.startDate===r&&data.endDate===r+1?n("div",[n("div",{staticClass:"js-work-hour"},[e._v(e._s(Math.round(data.endWorkTime/36e5*10)/10))])]):e._e()])])})),e._v(" "),n("div",[e._v(e._s(e.totalWorkedHourOfDay[r]))])],2)]}))],2),e._v(" "),n("div",[e._v(e._s(e.totalWorkedHourOfMonth))]),e._v(" "),n("v-btn",{on:{click:e.onCreateExcel}},[e._v("\n    onCreateExcel\n  ")])],1)}),[],!1,null,null,null);t.default=component.exports;y()(component,{VBtn:_.a,VFlex:w.a,VList:k.a,VListItem:O.a,VListItemContent:j.a})},552:function(e,t,n){"use strict";n.r(t);var r=n(40),o=n(133),l=Object(r.a)({setup:function(e,t){return Object(r.c)((function(){o.a.auth().onAuthStateChanged((function(data){data?console.log(data):location.href="/login"}))})),{}}}),c=n(116),component=Object(c.a)(l,(function(){var e=this.$createElement;return(this._self._c||e)("Calendar")}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Calendar:n(534).default})}}]);